<?xml version="1.0" encoding="UTF-8"?>

<jbi:jbi
    xmlns:jbi="http://java.sun.com/xml/ns/jbi"
    xmlns:cdk="http://petals.ow2.org/components/extensions/version-5"
    xmlns:petals-se-flowable="http://petals.ow2.org/components/petals-se-flowable/1.0"
    xmlns:metier="http://ausy.fr/training/petals/bibliotheque/emprunter/metier/1.0"
    xmlns:orchestration="http://www.ille-et-vilaine.fr/services/support/finances/subvention/orchestration/flowable/association/2.0"
    version="1.0">

    <jbi:services binding-component="false">

        <jbi:provides
            interface-name="metier:Emprunter"
            service-name="metier:EmprunterService"
            endpoint-name="autogenerate">
            <!-- WSDL file -->
            <cdk:wsdl>processus-emprunt.wsdl</cdk:wsdl>
        </jbi:provides>

        <jbi:consumes interface-name="orchestration:OrchestrationSubventionAssociation"
                      service-name="orchestration:OrchestrationSubventionAssociationService">
            <cdk:mep>InOut</cdk:mep>
            <cdk:operation>orchestration:create</cdk:operation>
            <cdk:timeout>360000</cdk:timeout>
        </jbi:consumes>

        <!-- SE Flowable specific fields -->
        <petals-se-flowable:tenant_id>ausy-training</petals-se-flowable:tenant_id>
        <petals-se-flowable:category_id>biblitotheque emprunt</petals-se-flowable:category_id>
        <petals-se-flowable:process_file1>Emprunter_livre.bpmn20.xml</petals-se-flowable:process_file1>
        <petals-se-flowable:version1>1</petals-se-flowable:version1>

    </jbi:services>
</jbi:jbi>
